---
import MainLayout from "../../layouts/MainLayout.astro";
export async function getStaticPaths() {
    const url = "https://qkisybglwngibxovgjqw.supabase.co/rest/v1/speakers";
    const options = {
    method: "GET",
    headers: {
        apikey:
        "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFraXN5Ymdsd25naWJ4b3ZnanF3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTYzMzM3OTksImV4cCI6MjAxMTkwOTc5OX0.4j0AnUSaBAywEKXEPZOKA3ajRa5VVbC8gbCnAXTdT50"
    },
}
  const data = await fetch(url, options).then(response => response.json());

  return data.map((speaker) => {
    return {
      params: { sidenavn: speaker.slug },
      props: { speaker },
    };
  });
}

const { speaker } = Astro.props;
---

<MainLayout>
    <section class="grid_1-1">
            <img src={"/imgs/speakers/" + speaker.img} alt="">
    <article>
        <h7>2024 speaker</h7>
        <h1>{speaker.name}</h1>
        <h7>{speaker.employment}</h7>
    </article>
</section>
<section>
<h7>Talk theme</h7>
<h4>{speaker.talk_theme}</h4>
<p>{speaker.talk_description}</p>
</section>
</MainLayout>

<style>

</style>